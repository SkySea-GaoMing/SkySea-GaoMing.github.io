<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="vue总结"><meta name="keywords" content="vue"><meta name="author" content="高明"><meta name="copyright" content="高明"><title>vue总结 | SkySea-GaoMing</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#参考B站codewhy视频"><span class="toc-number">1.</span> <span class="toc-text">参考B站codewhy视频</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是vue"><span class="toc-number">2.</span> <span class="toc-text">什么是vue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常见功能"><span class="toc-number">3.</span> <span class="toc-text">常见功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MVVM"><span class="toc-number">4.</span> <span class="toc-text">MVVM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#View"><span class="toc-number">4.1.</span> <span class="toc-text">View</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model"><span class="toc-number">4.2.</span> <span class="toc-text">Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VueModel-视图模型层"><span class="toc-number">4.3.</span> <span class="toc-text">VueModel(视图模型层)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue生命周期"><span class="toc-number">5.</span> <span class="toc-text">vue生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue基础语法"><span class="toc-number">6.</span> <span class="toc-text">vue基础语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#新建Hellofirst-html文件"><span class="toc-number">6.1.</span> <span class="toc-text">新建Hellofirst.html文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue属性与指令"><span class="toc-number">7.</span> <span class="toc-text">vue属性与指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#v-once"><span class="toc-number">7.1.</span> <span class="toc-text">v-once</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-html-”url”"><span class="toc-number">7.2.</span> <span class="toc-text">v-html&#x3D;”url”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-text"><span class="toc-number">7.3.</span> <span class="toc-text">v-text</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-pre"><span class="toc-number">7.4.</span> <span class="toc-text">v-pre</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#methods"><span class="toc-number">7.5.</span> <span class="toc-text">methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-on"><span class="toc-number">7.6.</span> <span class="toc-text">v-on</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind"><span class="toc-number">7.7.</span> <span class="toc-text">v-bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind动态绑定class"><span class="toc-number">7.8.</span> <span class="toc-text">v-bind动态绑定class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind动态绑定style"><span class="toc-number">7.9.</span> <span class="toc-text">v-bind动态绑定style</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#computed"><span class="toc-number">7.10.</span> <span class="toc-text">computed</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#computed与methods的区别"><span class="toc-number">7.11.</span> <span class="toc-text">computed与methods的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-on修饰符"><span class="toc-number">7.12.</span> <span class="toc-text">v-on修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件判断"><span class="toc-number">7.13.</span> <span class="toc-text">条件判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令v-for"><span class="toc-number">7.14.</span> <span class="toc-text">指令v-for</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-model"><span class="toc-number">8.</span> <span class="toc-text">v-model</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#结合radio"><span class="toc-number">8.1.</span> <span class="toc-text">结合radio</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#label-for"><span class="toc-number">8.2.</span> <span class="toc-text">label for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#checkbox"><span class="toc-number">8.3.</span> <span class="toc-text">checkbox</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#select"><span class="toc-number">8.4.</span> <span class="toc-text">select</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#表单修饰符"><span class="toc-number">8.5.</span> <span class="toc-text">表单修饰符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#es6"><span class="toc-number">9.</span> <span class="toc-text">es6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#push"><span class="toc-number">9.1.</span> <span class="toc-text">push</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pop"><span class="toc-number">9.2.</span> <span class="toc-text">pop</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shift"><span class="toc-number">9.3.</span> <span class="toc-text">shift</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unshift"><span class="toc-number">9.4.</span> <span class="toc-text">unshift</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#splice"><span class="toc-number">9.5.</span> <span class="toc-text">splice</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue组件开发"><span class="toc-number">10.</span> <span class="toc-text">Vue组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#认识组件化"><span class="toc-number">10.1.</span> <span class="toc-text">认识组件化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue组件化思想"><span class="toc-number">10.2.</span> <span class="toc-text">vue组件化思想</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注册组件"><span class="toc-number">10.3.</span> <span class="toc-text">注册组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全局组件和局部组件"><span class="toc-number">10.4.</span> <span class="toc-text">全局组件和局部组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父组件和子组件"><span class="toc-number">10.5.</span> <span class="toc-text">父组件和子组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注册组件语法糖"><span class="toc-number">10.6.</span> <span class="toc-text">注册组件语法糖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件模板抽离写法"><span class="toc-number">10.7.</span> <span class="toc-text">组件模板抽离写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件数据存放问题"><span class="toc-number">10.8.</span> <span class="toc-text">组件数据存放问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父子组件的通信"><span class="toc-number">10.9.</span> <span class="toc-text">父子组件的通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父传子-props"><span class="toc-number">10.10.</span> <span class="toc-text">父传子 props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子传父"><span class="toc-number">10.11.</span> <span class="toc-text">子传父</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父子组件双向绑定"><span class="toc-number">10.12.</span> <span class="toc-text">父子组件双向绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#父子组件直接访问"><span class="toc-number">10.13.</span> <span class="toc-text">父子组件直接访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插槽slot（vue2-6之前）"><span class="toc-number">10.14.</span> <span class="toc-text">插槽slot（vue2.6之前）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模块化开发"><span class="toc-number">11.</span> <span class="toc-text">模块化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#commonjs"><span class="toc-number">11.1.</span> <span class="toc-text">commonjs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es6-1"><span class="toc-number">11.2.</span> <span class="toc-text">es6</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack"><span class="toc-number">12.</span> <span class="toc-text">webpack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-cli"><span class="toc-number">13.</span> <span class="toc-text">vue-cli</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#runtime-only和runtime-compile"><span class="toc-number">13.1.</span> <span class="toc-text">runtime-only和runtime-compile</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#render函数的使用"><span class="toc-number">13.2.</span> <span class="toc-text">render函数的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建项目"><span class="toc-number">13.3.</span> <span class="toc-text">创建项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#箭头函数"><span class="toc-number">13.4.</span> <span class="toc-text">箭头函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-router"><span class="toc-number">14.</span> <span class="toc-text">vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Hash"><span class="toc-number">14.1.</span> <span class="toc-text">Hash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#History"><span class="toc-number">14.2.</span> <span class="toc-text">History</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由使用"><span class="toc-number">14.3.</span> <span class="toc-text">路由使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件"><span class="toc-number">14.4.</span> <span class="toc-text">组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由默认值和修改为history模式"><span class="toc-number">14.5.</span> <span class="toc-text">路由默认值和修改为history模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-link的其它属性"><span class="toc-number">14.6.</span> <span class="toc-text">router-link的其它属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过代码跳转路由"><span class="toc-number">14.7.</span> <span class="toc-text">通过代码跳转路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router动态路由的使用"><span class="toc-number">14.8.</span> <span class="toc-text">vue-router动态路由的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由懒加载"><span class="toc-number">14.9.</span> <span class="toc-text">路由懒加载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#嵌套路由"><span class="toc-number">15.</span> <span class="toc-text">嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router-参数传递"><span class="toc-number">15.1.</span> <span class="toc-text">vue-router 参数传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-link"><span class="toc-number">15.2.</span> <span class="toc-text">router-link</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不使用router-link"><span class="toc-number">15.3.</span> <span class="toc-text">不使用router-link</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router和-route"><span class="toc-number">15.4.</span> <span class="toc-text">$router和$route</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-router-全局导航守卫"><span class="toc-number">15.5.</span> <span class="toc-text">vue-router 全局导航守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#生命周期函数"><span class="toc-number">15.6.</span> <span class="toc-text">生命周期函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用导航守卫"><span class="toc-number">15.7.</span> <span class="toc-text">使用导航守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive"><span class="toc-number">15.8.</span> <span class="toc-text">keep-alive</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TabBar"><span class="toc-number">16.</span> <span class="toc-text">TabBar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise"><span class="toc-number">17.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#链式处理"><span class="toc-number">17.1.</span> <span class="toc-text">链式处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise的all方法"><span class="toc-number">17.2.</span> <span class="toc-text">Promise的all方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vuex"><span class="toc-number">18.</span> <span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#状态管理"><span class="toc-number">18.1.</span> <span class="toc-text">状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#管理的内容"><span class="toc-number">18.2.</span> <span class="toc-text">管理的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单界面的管理"><span class="toc-number">18.3.</span> <span class="toc-text">单界面的管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多页面状态管理"><span class="toc-number">18.4.</span> <span class="toc-text">多页面状态管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#state单一状态树"><span class="toc-number">18.5.</span> <span class="toc-text">state单一状态树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getters"><span class="toc-number">18.6.</span> <span class="toc-text">getters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mutation状态更新"><span class="toc-number">18.7.</span> <span class="toc-text">Mutation状态更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex数据的响应原理"><span class="toc-number">18.8.</span> <span class="toc-text">vuex数据的响应原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mutation常量类型"><span class="toc-number">18.9.</span> <span class="toc-text">Mutation常量类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex-actions"><span class="toc-number">18.10.</span> <span class="toc-text">vuex-actions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ajax"><span class="toc-number">19.</span> <span class="toc-text">Ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#js实现"><span class="toc-number">19.1.</span> <span class="toc-text">js实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JQery"><span class="toc-number">20.</span> <span class="toc-text">JQery</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ajax处理json对象"><span class="toc-number">20.1.</span> <span class="toc-text">Ajax处理json对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#axios"><span class="toc-number">21.</span> <span class="toc-text">axios</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#axios请求方式"><span class="toc-number">21.1.</span> <span class="toc-text">axios请求方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios处理并发请求"><span class="toc-number">21.2.</span> <span class="toc-text">axios处理并发请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全局配置"><span class="toc-number">21.3.</span> <span class="toc-text">全局配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios的实例和模块封装"><span class="toc-number">21.4.</span> <span class="toc-text">axios的实例和模块封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios的拦截器的使用"><span class="toc-number">21.5.</span> <span class="toc-text">axios的拦截器的使用</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1582898893694&amp;di=15958b0625c3bcbdd505353b8b5deaa4&amp;imgtype=0&amp;src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2F068c0cbf1b1571976ada2e55a53b3a079e1614c5.jpg"></div><div class="author-info__name text-center">高明</div><div class="author-info__description text-center">Java forever</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">29</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">11</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">6</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://i0.hdslb.com/bfs/album/42972e57ef591d0a058fd730a47915bd984e100d.jpg@518w_1e_1c.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SkySea-GaoMing</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">vue总结</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-03-12</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2020/03/12/vue%E6%80%BB%E7%BB%93/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2020/03/12/vue总结/"></span></a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="参考B站codewhy视频"><a href="#参考B站codewhy视频" class="headerlink" title="参考B站codewhy视频"></a>参考B站codewhy视频</h2><h2 id="什么是vue"><a href="#什么是vue" class="headerlink" title="什么是vue"></a>什么是vue</h2><p>Vue是一个渐进式的框架</p>
<ul>
<li>渐进式意味着你可以将Vue作为你应用的一部分嵌入其中，带来更丰富的交互体验。</li>
<li>或者如果你希望将更多的业务逻辑使用Vue实现，那么Vue的核心库以及其生态系统。比如<br>Core+Vue-router+Vuex，也可以满足你各种各样的需求。</li>
</ul>
<h2 id="常见功能"><a href="#常见功能" class="headerlink" title="常见功能"></a>常见功能</h2><ul>
<li>解耦视图和数据</li>
<li>可复用的组件</li>
<li>前端路由</li>
<li>状态管理</li>
<li>虚拟DOM</li>
</ul>
<h2 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h2><p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number1.jpg" alt></p>
<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><ul>
<li>视图层</li>
<li>在我们前端开发中，通常就是DOM层。</li>
<li>主要的作用是给用户展示各种信息。</li>
</ul>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><ul>
<li>数据层</li>
<li>数据可能是我们固定的死数据，更多的是来自我们服务器，从网络上请求下来的数据</li>
</ul>
<h3 id="VueModel-视图模型层"><a href="#VueModel-视图模型层" class="headerlink" title="VueModel(视图模型层)"></a>VueModel(视图模型层)</h3><p>View 和 Model 沟通的桥梁，一方面它实现了数据绑定，将Model的改变实时的反应到View中<br>另一方面它实现了DOM监听，当DOM发生一些事件(点击、滚动、touch等)时，可以监听到，并在需<br>要的情况下改变对应的Data。</p>
<ol>
<li>model 数据层都放在data里面</li>
<li>view 我们的HTML页面</li>
<li>view-model 控制器,将数据和视图层建立联系</li>
</ol>
<h2 id="vue生命周期"><a href="#vue生命周期" class="headerlink" title="vue生命周期"></a>vue生命周期</h2><p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number3.webp" alt></p>
<ul>
<li>new Vue——&gt;创建一个vue实例</li>
<li>init()——&gt;初始化空的vue对象</li>
<li>beforecreate——&gt;data &amp; methods 还未初始化</li>
<li>created——&gt;data &amp; methods 已经初始化好，此时可调用methods方法、使用data中的数<br>据(最早)</li>
<li>compile template——&gt;编译模板在内存中生成DOM树，但此时未加载到页面上</li>
<li>beforeMount——&gt;模板尚未挂载至页面，页面仍未更新</li>
<li>create vm.$el &amp; replace el with it——&gt;将内存中编译好的模板替换至页面上,此时可<br>操作<br>页面Dom(最早)</li>
<li>mounted——&gt;实例初始化加载完毕，进入运行阶段</li>
<li>beforeUpdate——&gt;data changed,data中数据已更新，页面上的数据仍未更新</li>
<li>virtual DOM re-render and patch——&gt;根据data的数据在内存中重新渲染新DOM树，<br>更新完毕再将其渲染到页面(model—&gt;view)</li>
<li>updated——&gt;页面中的data更新了</li>
<li>beforeDestroy——&gt;运行—&gt;销毁，此时data/methods等仍可用，并未真正销毁</li>
<li>destroyed——&gt;everything is null</li>
</ul>
<h2 id="vue基础语法"><a href="#vue基础语法" class="headerlink" title="vue基础语法"></a>vue基础语法</h2><h3 id="新建Hellofirst-html文件"><a href="#新建Hellofirst-html文件" class="headerlink" title="新建Hellofirst.html文件"></a>新建Hellofirst.html文件</h3><p>使用Mustache基本语法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--通过id 绑定vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"div"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 插到标签中 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Hello &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 使用了两个Mustach --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 也可以是表达式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter*2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../dist/bundle.js"</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> obj=&#123;</span></span><br><span class="line">	number: 0,</span><br><span class="line">	name: fds</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'gaoming'</span>,</span></span><br><span class="line"><span class="actionscript">      firstName: <span class="string">'gao'</span>,</span></span><br><span class="line"><span class="actionscript">      lastName: <span class="string">'ming'</span>,</span></span><br><span class="line">      counter: 100</span><br><span class="line">    &#125;,</span><br><span class="line">    /*</span><br><span class="line">    	data也可以写在vue外</span><br><span class="line">    	data: obj</span><br><span class="line">    */</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="vue属性与指令"><a href="#vue属性与指令" class="headerlink" title="vue属性与指令"></a>vue属性与指令</h2><h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><p>在某些情况下，我们可能不希望界面中Mustach中的值随意的跟随改变,该指令后面不需要跟<br>任何表达式该指令表示元素和组件只渲染一次，不会随着数据的改变而改变</p>
<h3 id="v-html-”url”"><a href="#v-html-”url”" class="headerlink" title="v-html=”url”"></a>v-html=”url”</h3><p>某些情况下，我们从服务器请求到的数据本身就是一个HTML代码，如果我们直接通过<br>Mustache语法来输出，会将 HTML 代码也一起输出，但如果希望按照HTML格式进行解析，并且<br>显示对应的内容，可以使用v-html指令</p>
<h3 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h3><p>v-text作用和Mustache比较相似，都是用于将数据显示在界面中</p>
<h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><p>将代码原封不动的解析出来，不做任何处理</p>
<h3 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h3><p>可以直接通过 VM 实例访问这些方法，或者在指令表达式中使用。方法中的this自动绑<br>定为Vue实例</p>
<h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><p>绑定事件监听器，监听某个元素的点击事件在点击时发生，语法糖简写为 @</p>
<ol>
<li>如果该方法不需要额外参数，那么方法后的()可以不添加。<br>但是注意：如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去</li>
<li>如果需要同时传入某个参数，同时需要event时，可以通过$event传入事件</li>
</ol>
<h3 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h3><p>除了内容需要动态来决定外，某些属性我们也希望动态来绑定。比如a元素的href属性，img<br>元素的src属性，此时Mustache语法不能用。语法糖写法为 :</p>
<h3 id="v-bind动态绑定class"><a href="#v-bind动态绑定class" class="headerlink" title="v-bind动态绑定class"></a>v-bind动态绑定class</h3><p>与之前的形式一样，class中也可以添加一个对象其中放入Key:Boolean。</p>
<ol>
<li>对象语法 也可以写在方法中</li>
<li>数组语法</li>
</ol>
<h3 id="v-bind动态绑定style"><a href="#v-bind动态绑定style" class="headerlink" title="v-bind动态绑定style"></a>v-bind动态绑定style</h3><p>我们可以利用v-bind:style来绑定一些CSS内联样式。在写CSS属性名的时候，<br>比如 font-size，可以使用驼峰式 (camelCase) fontSize，或短横线分<br>隔 (kebab-case，记得用单引号括起来) ‘font-size’</p>
<ol>
<li>对象语法</li>
<li>数组语法</li>
</ol>
<h3 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h3><p>在模板中可以直接通过插值语法显示一些 data 中的数据，但是在某些情况下，可能需要对<br>数据进行一些转化后再显示，或者需要将多个数据结合起来进行显示，这时可以使用计算<br>属性computed</p>
<h3 id="computed与methods的区别"><a href="#computed与methods的区别" class="headerlink" title="computed与methods的区别"></a>computed与methods的区别</h3><ol>
<li>computed是属性调用，而methods是函数调用</li>
<li>computed带有缓存功能，而methods不是</li>
<li>computed定义的方法我们是以属性访问的形式调用的</li>
<li>methods定义的方法，我们必须要加上()来调用</li>
<li>我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全<br>相同的。然而，不同的是计算属性是基于它们的响应式依赖进行缓存的。只在相关响应式依赖发生<br>改变时它们才会重新求值。这就意味着只要 text 还没有发生改变，多次访问 getText 计算属<br>性会立即返回之前的计算结果，而不必再次执行函数。而方法只要页面中的属性发生改变就会重<br>新执行</li>
<li>对于任何复杂逻辑，你都应当使用计算属性</li>
<li>computed依赖于data中的数据，只有在它的相关依赖数据发生改变时才会重新求值</li>
</ol>
<h3 id="v-on修饰符"><a href="#v-on修饰符" class="headerlink" title="v-on修饰符"></a>v-on修饰符</h3><ol>
<li>.stop - 调用 event.stopPropagation() - 阻止冒泡</li>
<li>.prevent - 调用 event.preventDefault() - 阻止默认事件</li>
<li>.{keyCode | keyAlias} - 只当事件是从特定键触发时才触发回调</li>
<li>.native - 监听组件根元素的原生事件</li>
<li>.once - 只触发一次回调</li>
</ol>
<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><p>v-if、v-else-if、v-else 这三个指令与 JavaScript 的条件语句 if、else、else if 类似<br>vue 的条件指令可以根据表达式的值在 DOM 中渲染或销毁元素或组件,一般写在computed中</p>
<h3 id="指令v-for"><a href="#指令v-for" class="headerlink" title="指令v-for"></a>指令v-for</h3><p>当我们有一组数据需要进行渲染时，我们就可以使用v-for来完成</p>
<ul>
<li>v-for=”item in items”</li>
<li>v-for=”(item, index) in items”</li>
<li>v-for=”(item, key, index) in items”</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">"url"</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">"message"</span>&gt;</span>这里面写的内容会被message覆盖<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"add"</span>&gt;</span>++<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"add"</span>&gt;</span>++<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btn"</span>&gt;</span>改变颜色<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">"source"</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">"link"</span> <span class="attr">alt</span>=<span class="string">""</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">"&#123;'active': isActive&#125;"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">"&#123;'active': isActive, 'line': isLine&#125;"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">"classes"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">"['active', 'line']"</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">"&#123;fontSize:'50px'&#125;"</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">"&#123;fontSize:finalSize + 'px',color:finalColor&#125;"</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">"[baseStyles,baseStyles2]"</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"divClick"</span>&gt;</span></span><br><span class="line">  		aaaaaaa</span><br><span class="line">  	<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">"btnClick"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"baidu"</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"提交"</span> @<span class="attr">click.prevent</span>=<span class="string">"submitClick"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- .监听某个键盘的键帽--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keyup.enter</span>=<span class="string">"keyUp"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- .once修饰符的使用--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">"btn2Click"</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"type === 'A'"</span>&gt;</span>A<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'B'"</span>&gt;</span>B<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"type === 'C'"</span>&gt;</span>C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>Not A/B/C<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in items"</span>&gt;</span>&#123;&#123; index+1 &#125;&#125; - &#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  		<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in items"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  		<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(value, key) in items"</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  		<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"(value, key, index) in info"</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../dist/bundle.js"</span> <span class="attr">type</span>=<span class="string">"module"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#show'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      items: [<span class="string">'df'</span>,<span class="string">'fsa'</span>,<span class="string">'vz'</span>],</span></span><br><span class="line"><span class="actionscript">      message: <span class="string">'mn'</span>,</span></span><br><span class="line"><span class="handlebars"><span class="xml">      url: '<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span>'，</span></span></span><br><span class="line"><span class="actionscript">      source: <span class="string">'http://www.baidu.com'</span>,</span></span><br><span class="line"><span class="actionscript">      link: <span class="string">'http...'</span>,</span></span><br><span class="line">      num: 0。</span><br><span class="line"><span class="actionscript">      isactive: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">      isline: <span class="literal">false</span>，</span></span><br><span class="line">      inalSize: 100,</span><br><span class="line"><span class="actionscript">      finalColor: <span class="string">'skyblue'</span>,</span></span><br><span class="line">      baseStyles: &#123;</span><br><span class="line"><span class="actionscript">        color: <span class="string">'red'</span></span></span><br><span class="line">      &#125;,</span><br><span class="line">      baseStyles2: &#123;</span><br><span class="line"><span class="actionscript">        fontSize: <span class="string">'50px'</span></span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="actionscript">      firstName: <span class="string">'gao'</span>,</span></span><br><span class="line"><span class="actionscript">      lastName: <span class="string">'ming'</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    	add() &#123;</span><br><span class="line"><span class="actionscript">    		<span class="keyword">this</span>.num++;</span></span><br><span class="line">    	&#125;,</span><br><span class="line">    	btn() &#123;</span><br><span class="line"><span class="actionscript">    		<span class="keyword">this</span>.isline=!<span class="keyword">this</span>.isline;</span></span><br><span class="line">    		&#125;,</span><br><span class="line">    	classes() &#123;</span><br><span class="line"><span class="actionscript">    		<span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">          active: <span class="keyword">this</span>.isactive,</span></span><br><span class="line"><span class="actionscript">          line: <span class="keyword">this</span>.isline</span></span><br><span class="line">        &#125;</span><br><span class="line">             &#125;,</span><br><span class="line">        getfullname() &#123;</span><br><span class="line"><span class="actionscript">        	<span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span></span><br><span class="line">        &#125;     </span><br><span class="line">    &#125;,</span><br><span class="line">     computed: &#123;</span><br><span class="line">      fullName() &#123;</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><p>表单和数据双向绑定。改变text的内容，message也会改变。限制在 input、select、textarea、<br>components中使用,input标签默认会有input方法监听输入信息</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"message"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>v-model其实是一个语法糖，它的背后本质上是包含两个操作  </p>
<ol>
<li>v-bind绑定一个value属性</li>
<li>v-on指令给当前元素绑定input事件</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"message"</span> @<span class="attr">input</span>=<span class="string">"message = $event.target.value"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="结合radio"><a href="#结合radio" class="headerlink" title="结合radio"></a>结合radio</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"male"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">v-model</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">"male"</span> <span class="attr">value</span>=<span class="string">"男"</span>&gt;</span>男</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"female"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">v-model</span>=<span class="string">"gender"</span> <span class="attr">id</span>=<span class="string">"female"</span> <span class="attr">value</span>=<span class="string">"女"</span>&gt;</span>女</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>您选择的性别是：&#123;&#123;gender&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      gender: <span class="string">'男'</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="label-for"><a href="#label-for" class="headerlink" title="label for"></a>label for</h3><p>如果在label 元素内点击文本，就会触发此控件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"SSN"</span>&gt;</span>Social Security Number:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"SocSecNum"</span> <span class="attr">id</span>=<span class="string">"SSN"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h3><ol>
<li>单个勾选框  </li>
</ol>
<ul>
<li>v-model即为布尔值。</li>
<li>此时input的value并不影响v-model的值<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- checkbox单选框 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"licence"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">v-model</span>=<span class="string">"isAgree"</span> <span class="attr">id</span>=<span class="string">"licence"</span>&gt;</span>同意协议</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>您的选择是：&#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">"!isAgree"</span>&gt;</span>下一步<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'#app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      isAgree: <span class="literal">false</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
多选框</li>
<li>当是多个复选框时，因为可以选中多个，所以对应的data中属性是一个数组。</li>
<li>当选中某一个时，就会将input的value添加到数组中。<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>请选择您的爱好<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sing"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">v-model</span>=<span class="string">"hobbies"</span> <span class="attr">id</span>=<span class="string">"sing"</span> <span class="attr">value</span>=<span class="string">"唱"</span>&gt;</span>唱</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"jump"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">v-model</span>=<span class="string">"hobbies"</span> <span class="attr">id</span>=<span class="string">"jump"</span> <span class="attr">value</span>=<span class="string">"跳"</span>&gt;</span>跳</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"rap"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">v-model</span>=<span class="string">"hobbies"</span> <span class="attr">id</span>=<span class="string">"rap"</span> <span class="attr">value</span>=<span class="string">"rap"</span>&gt;</span>rap</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"basketball"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">v-model</span>=<span class="string">"hobbies"</span> <span class="attr">id</span>=<span class="string">"basketball"</span> <span class="attr">value</span>=<span class="string">"篮球"</span>&gt;</span>篮球</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>您的爱好是：&#123;&#123;hobbies&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'.app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      hobbies: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><p>单选：只能选中一个值。</p>
<ul>
<li>v-model绑定的是一个值。</li>
<li>当我们选中option中的一个时，会将它对应的value赋值到mySelect中<br>多选：可以选多个值</li>
<li>v-model绑定的是一个数组。</li>
<li>当选中多个值时，就会将选中的option对应的value添加到数组mySelects中<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 选择一个值 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>请选择您喜欢的水果：<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">v-model</span>=<span class="string">"fruit"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"苹果"</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"香蕉"</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"橘子"</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"西瓜"</span>&gt;</span>西瓜<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"榴莲"</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>您选择的水果是：&#123;&#123;fruit&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 选择多个值 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">v-model</span>=<span class="string">"fruits"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"苹果"</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"香蕉"</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"橘子"</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"西瓜"</span>&gt;</span>西瓜<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"榴莲"</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>您选择的水果是：&#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'.app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      fruit: <span class="string">'苹果'</span>,</span></span><br><span class="line">      fruits: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="表单修饰符"><a href="#表单修饰符" class="headerlink" title="表单修饰符"></a>表单修饰符</h3><ol>
<li>number 转换为数值</li>
</ol>
<ul>
<li>当开始输入非数字的字符串时，因为Vue无法将字符串转换成数值</li>
<li>所以属性值将实时更新成相同的字符串。即使后面输入数字，也将被视作字符串。</li>
</ul>
<ol start="2">
<li>trim 自动过滤用户输入的首尾空白字符</li>
</ol>
<ul>
<li>只能去掉首尾的 不能去除中间的空格</li>
</ul>
<ol start="3">
<li>lazy 将input事件切换成change事件</li>
</ol>
<ul>
<li>.lazy 修饰符延迟了同步更新属性值的时机。即将原本绑定在 input 事件的同步逻辑转<br>变为绑定在 change 事件上</li>
<li>在失去焦点 或者 按下回车键时才更新<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 1.lazy修饰符：失去焦点或按下回车才更新 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model.lazy</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2.number修饰符：将输入框中的内容自动转为number --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"number"</span> <span class="attr">v-model.number</span>=<span class="string">"age"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;age&#125;&#125;---&#123;&#123;typeof age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 3.trim修饰符：过滤内容左右两边的空格 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model.trim</span>=<span class="string">"name"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>你输入的名字是:&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../js/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">    el: <span class="string">'.app'</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="actionscript">      name: <span class="string">'gaoming'</span>,</span></span><br><span class="line">      age: 18,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="es6"><a href="#es6" class="headerlink" title="es6"></a>es6</h2><h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><p>在数组最后面添加元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.letters.push('aaa')</span><br><span class="line">this.letters.push('aaaa', 'bbbb', 'cccc')</span><br></pre></td></tr></table></figure>
<h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><p>删除数组中的最后一个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.letters.pop()</span><br></pre></td></tr></table></figure>
<h3 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h3><p>删除数组中的第一个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.letters.shift();</span><br></pre></td></tr></table></figure>
<h3 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h3><p>在数组最前面添加元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.letters.unshift()</span><br><span class="line">this.letters.unshift('aaa', 'bbb', 'ccc')</span><br></pre></td></tr></table></figure>
<h3 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h3><p>删除元素/插入元素/替换元素</p>
<ul>
<li>splice(删除位置，删除数量)</li>
<li>splice(插入位置,0,插入值)</li>
<li>splice(替换位置,1,替换值)</li>
</ul>
<h2 id="Vue组件开发"><a href="#Vue组件开发" class="headerlink" title="Vue组件开发"></a>Vue组件开发</h2><h3 id="认识组件化"><a href="#认识组件化" class="headerlink" title="认识组件化"></a>认识组件化</h3><p>如果将一个复杂的问题，拆分成很多个可以处理的小问题，再将其放在整体当中，你会发现大<br>的问题也会迎刃而解。组件化也是类似的思想<br>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利<br>于后续的管理以及扩展。<br>但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能<br>，那么之后整个页面的管理和维护就变得非常容易了。  </p>
<h3 id="vue组件化思想"><a href="#vue组件化思想" class="headerlink" title="vue组件化思想"></a>vue组件化思想</h3><p>组件化是Vue.js中的重要思想它提供了一种抽象，让我们可以开发出一个个独立可复用的小组<br>件来构造我们的应用。任何的应用都会被抽象成一颗组件树。<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number2.jpg" alt></p>
<h3 id="注册组件"><a href="#注册组件" class="headerlink" title="注册组件"></a>注册组件</h3><ul>
<li>创建组件构造器 Vue.extend</li>
<li>注册组件 Vue.component</li>
<li>使用组件 挂载在某个vue实例下</li>
</ul>
<p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number3.jpg" alt></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 2、 组件使用 组件名称 是以HTML标签的形式使用  --&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">mycpn</span>&gt;</span><span class="tag">&lt;/<span class="name">mycpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../node_modules/vue/dist/vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 组件构造器</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">const</span> cpn = Vue.extend(&#123;</span></span><br><span class="line">  template: `</span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,哈哈哈哈啊<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">  `</span><br><span class="line">&#125;)</span><br><span class="line"><span class="actionscript"><span class="comment">//注册全局组件</span></span></span><br><span class="line"><span class="actionscript">Vue.component(<span class="string">'mycpn'</span>,cpn)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="全局组件和局部组件"><a href="#全局组件和局部组件" class="headerlink" title="全局组件和局部组件"></a>全局组件和局部组件</h3><p>全局组件可以在多个vue实例下使用，局部组件挂载在某个vue中在指定vue实例中使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const a=new Vue(</span><br><span class="line">	&#123;</span><br><span class="line">		el: '#example',</span><br><span class="line">		//局部组件</span><br><span class="line">		components: &#123;</span><br><span class="line">		//标签名 构造器</span><br><span class="line">		mycpn: cpn</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="父组件和子组件"><a href="#父组件和子组件" class="headerlink" title="父组件和子组件"></a>父组件和子组件</h3><p>组件和组件之间存在层级关系，而其中一种非常重要的关系就是父子组件的关系<br>cpn2是父组件，cpn是子组件，cpn不能再vue实例中单独使用如果要使用必须也注册在<br>vue实例中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const cpn2 = Vue.extend(&#123;</span><br><span class="line">  template: `</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,哈哈哈哈啊<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mycpn</span>&gt;</span><span class="tag">&lt;/<span class="name">mycpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  `,</span><br><span class="line">  components: </span><br><span class="line">  	'mycpn': cpn</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="注册组件语法糖"><a href="#注册组件语法糖" class="headerlink" title="注册组件语法糖"></a>注册组件语法糖</h3><ul>
<li>注册全局组件语法糖 Vue.component(‘cpnc1’,{template: })</li>
<li>注册局部组件语法糖 components: {‘cpnc1’: {template: } }</li>
</ul>
<h3 id="组件模板抽离写法"><a href="#组件模板抽离写法" class="headerlink" title="组件模板抽离写法"></a>组件模板抽离写法</h3><p>即使用 script 标签或 template 标签将模板内容从注册时的 template 中抽离出来</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">Vue.component(<span class="string">'cpn'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">  template: <span class="string">'#cpn'</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="组件数据存放问题"><a href="#组件数据存放问题" class="headerlink" title="组件数据存放问题"></a>组件数据存放问题</h3><p>组件是一个单独功能模块的封装：这个模块有属于自己的HTML模板，也应该有属性自己的<br>数据data，组件不能直接访问vue实例中的数据，此data属性不是对象类型而是一个函数，返回<br>一个实例对象保存数据<br>data是一个函数，因此组件可以实现复用多个组件数据相互之间不会影响因为返回的是不同的数<br>据对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const cpn = Vue.extend(&#123;</span><br><span class="line">  template: `</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,哈哈哈哈啊<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  `,</span><br><span class="line">  data() &#123;</span><br><span class="line">  	return &#123;</span><br><span class="line">  		count: 0</span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="父子组件的通信"><a href="#父子组件的通信" class="headerlink" title="父子组件的通信"></a>父子组件的通信</h3><p>子组件不能引用父组件或者vue实例的数据，父组件发送网络请求，收到数据再将其传递至子组<br>件并进一步操作</p>
<h3 id="父传子-props"><a href="#父传子-props" class="headerlink" title="父传子 props"></a>父传子 props</h3><ol>
<li>字符串数组，数组中的字符串就是传递是的名称</li>
<li>对象，对象可以设置传递时的类型，也可以设置默认值<br>如果以对象传递可以指定类型 String Number Boolean Array Object Date Function<br>Symbol如果类型是数组或者对象默认值必须是一个函数 default(){return []|{}}</li>
<li>子组件需要通过v-bind绑定指定数据给自己,同时在组件中通过props<br>(properties-属性)接收相应数据<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;cpn v-bind:cmovies="movies"&gt;&lt;/cpn&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;cpn cmovies="movies" cmessage="message"&gt;&lt;/cpn&gt;--&gt;</span></span><br><span class="line">  //	不使用v-bind则不会将其识别为变量而是直接将其当作字符串传过去</span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:cmessage</span>=<span class="string">"message"</span> <span class="attr">:cmovies</span>=<span class="string">"movies"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 定义 cpn 组件模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in cmovies"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; cmessage &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">//	定义 cpn 组件</span><br><span class="line">const cpn = &#123;</span><br><span class="line">  template: '#cpn',</span><br><span class="line">  // 	可以是一个数组</span><br><span class="line">  // props: ['cmovies', 'cmessage'],</span><br><span class="line">  // 也可以通过对象设置传入以及设置更多默认参数</span><br><span class="line">  props: &#123;</span><br><span class="line">    // 1.类型限制</span><br><span class="line">    // cmovies: Array,</span><br><span class="line">    // cmessage: String,</span><br><span class="line">    // 2.提供一些默认值, 以及必传值</span><br><span class="line">    cmessage: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: 'aaaaaaaa',</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    // 类型是对象或者数组时, 默认值必须是一个函数</span><br><span class="line">    cmovies: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default() &#123;</span><br><span class="line">        return []</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123; &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line">const app = new Vue(&#123;</span><br><span class="line">  el: '#app',</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: 'hello tadm',</span><br><span class="line">    movies: ['海王', '海贼王', '海尔兄弟']</span><br><span class="line">  &#125;,</span><br><span class="line">  //	注册 cpn 组件</span><br><span class="line">  components: &#123;</span><br><span class="line">  	//	'cpn': cpn</span><br><span class="line">  	//	ES6 增强写法</span><br><span class="line">    cpn</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="子传父"><a href="#子传父" class="headerlink" title="子传父"></a>子传父</h3><p>子组件需要向父组件传递数据是就要用到自定义事件<br>v-on不仅可以用于监听DOM事件也可以监听组件的自定义事件<br>子组件中通过$emit()来触发事件 父组件中通过v-on来监听子组件事件<br>子组件通过$emit()来发射事件以及参数,在父组件中通过<br>@(v-on)来监听传过来的事件并进行相应处理(比如发送网络请求)<br>流程：首先监听子组件的btn方法，当点击按钮时触发，在btn方法中向父组件传递事<br>件itemclick，父组件监听此事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 默认把$emit('function',item)中的item传给父组件,不会传</span></span><br><span class="line"><span class="comment">	递event(非浏览器对象自然不会产生event)--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">itemclick</span>=<span class="string">"cpnClick"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">"item in categories"</span> @<span class="attr">click</span>=<span class="string">"btnClick(item)"</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.name &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cpn = &#123;</span><br><span class="line">	template: <span class="string">'#cpn'</span>,</span><br><span class="line">	data() &#123;</span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">			categories: [</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'aaa'</span>, <span class="attr">name</span>: <span class="string">'热门推荐'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'bbb'</span>, <span class="attr">name</span>: <span class="string">'手机数码'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'ccc'</span>, <span class="attr">name</span>: <span class="string">'家用家电'</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>: <span class="string">'ddd'</span>, <span class="attr">name</span>: <span class="string">'电脑办公'</span>&#125;,</span><br><span class="line">      ]</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		btnClick(item) &#123;</span><br><span class="line">			<span class="keyword">this</span>.$emit(<span class="string">'itemclick'</span>,item)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123; &#125;,</span><br><span class="line">	components: &#123;</span><br><span class="line">		<span class="comment">//	'cpn': cpn</span></span><br><span class="line">		cpn</span><br><span class="line">	&#125;</span><br><span class="line">	methods: &#123;</span><br><span class="line">		cpnClick(item) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'cpnClick'</span>,item)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="父子组件双向绑定"><a href="#父子组件双向绑定" class="headerlink" title="父子组件双向绑定"></a>父子组件双向绑定</h3><p>v-model原型利用(v-bind,v-on)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">"num1"</span> <span class="attr">:number2</span>=<span class="string">"num2"</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1change</span>=<span class="string">"num1change"</span> @<span class="attr">num2change</span>=<span class="string">"num2change"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input type="text" v-model="dnumber1"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnumber1"</span> @<span class="attr">input</span>=<span class="string">"num1Input"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;input type="text" v-model="dnumber2"&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">:value</span>=<span class="string">"dnumber2"</span> @<span class="attr">input</span>=<span class="string">"num2Input"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">'#app'</span>,</span><br><span class="line">	data: &#123;</span><br><span class="line">		num1: <span class="number">1</span>,</span><br><span class="line">		num2: <span class="number">0</span></span><br><span class="line">	&#125;,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		num1change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    num2change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	components: &#123;</span><br><span class="line">		<span class="keyword">const</span> cpn = &#123;</span><br><span class="line">			template: <span class="string">'#cpn'</span>,</span><br><span class="line">			props: &#123;</span><br><span class="line">				number1: <span class="built_in">Number</span>,</span><br><span class="line">				number2: <span class="built_in">Number</span></span><br><span class="line">			&#125;</span><br><span class="line">			data() &#123;</span><br><span class="line">				<span class="keyword">return</span> &#123;</span><br><span class="line">					dnumber1: <span class="keyword">this</span>.number1,</span><br><span class="line">					dnumber2: <span class="keyword">this</span>.number2</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;,</span><br><span class="line">			methods: &#123;</span><br><span class="line">				num1Input(event) &#123;</span><br><span class="line">          <span class="comment">// 1.将input中的value赋值到dnumber中</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = event.target.value;</span><br><span class="line">          <span class="comment">// 2.为了让父组件可以修改值, 发出一个事件</span></span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>, <span class="keyword">this</span>.dnumber1)</span><br><span class="line">          <span class="comment">// 3.同时修饰dnumber2的值</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = <span class="keyword">this</span>.dnumber1 * <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>, <span class="keyword">this</span>.dnumber2);</span><br><span class="line">        &#125;,</span><br><span class="line">        num2Input(event) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = event.target.value;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2change'</span>, <span class="keyword">this</span>.dnumber2)</span><br><span class="line">          <span class="comment">// 同时修饰dnumber2的值</span></span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = <span class="keyword">this</span>.dnumber2 / <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1change'</span>, <span class="keyword">this</span>.dnumber1);</span><br><span class="line">        &#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>使用v-model</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">"num1"</span> <span class="attr">:number2</span>=<span class="string">"num2"</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1-change</span>=<span class="string">"num1change"</span> @<span class="attr">num2-change</span>=<span class="string">"num2change"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber1 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"dnumber1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123; number2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123; dnumber2 &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"dnumber2"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    num1: <span class="number">1</span>,</span><br><span class="line">    num2: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    num1change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    num2change(value) &#123;</span><br><span class="line">      <span class="keyword">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      props: &#123;</span><br><span class="line">        number1: <span class="built_in">Number</span>,</span><br><span class="line">        number2: <span class="built_in">Number</span>,</span><br><span class="line">        name: <span class="string">''</span></span><br><span class="line">      &#125;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          dnumber1: <span class="keyword">this</span>.number1,</span><br><span class="line">          dnumber2: <span class="keyword">this</span>.number2</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//watch的作用可以监控一个值的变换，并调用因为变化需要执行的方法</span></span><br><span class="line">      watch: &#123;</span><br><span class="line">        dnumber1(newValue) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber2 = newValue * <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num1-change'</span>, newValue);</span><br><span class="line">        &#125;,</span><br><span class="line">        dnumber2(newValue) &#123;</span><br><span class="line">          <span class="keyword">this</span>.dnumber1 = newValue / <span class="number">10</span>;</span><br><span class="line">          <span class="keyword">this</span>.$emit(<span class="string">'num2-change'</span>, newValue);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="父子组件直接访问"><a href="#父子组件直接访问" class="headerlink" title="父子组件直接访问"></a>父子组件直接访问</h3><p>父访问子使用 $refs reference(引用)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">ref</span>=<span class="string">"aaa"</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"btnClick"</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'你好啊'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    btnClick() &#123;</span><br><span class="line">      <span class="comment">// $refs =&gt; 对象类型, 默认是一个空的对象 ref='bbb'</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs.aaa.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">      data() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          name: <span class="string">'我是子组件的name'</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        showMessage() &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">'showMessage'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="插槽slot（vue2-6之前）"><a href="#插槽slot（vue2-6之前）" class="headerlink" title="插槽slot（vue2.6之前）"></a>插槽slot（vue2.6之前）</h3><p>组件的插槽 使封装的组件更加具有扩展性，让使用者决定组件的内部的一些内容展示什么<br>抽取共性到组件中，预留不同的插槽<br>slot中可以有默认值，如果不向cpn中输入内容就用默认值,如果多个值同时放入一个slot中<br>都是替换值<br>默认插槽</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是组件, 哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;button&gt;按钮&lt;/button&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'hello tadm'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    cpn: &#123;</span><br><span class="line">      template: <span class="string">'#cpn'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>具名插槽,slot标签中加入name属性，在cpn中如果需要加入内容就需要slot=name来绑定对应<br>的slot，如果不绑定name则不会改变</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">"center"</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">"left"</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 模板 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"cpn"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="模块化开发"><a href="#模块化开发" class="headerlink" title="模块化开发"></a>模块化开发</h2><p>在网页开发的早期，js 制作作为一种脚本语言，做一些简单的表单验证或动画实现等，<br>那个时候代码很少，直接将代码写在 script 标签中即可<br>随着ajax异步请求的出现，慢慢形成了前后端的分离<br>客户端需要完成的事情越来越多，代码量也是与日俱增。<br>为了应对代码量的剧增，我们通常会将代码组织在多个js文件中，进行维护。<br>但是这种维护方式，依然不能避免一些灾难性的问题，比如全局变量同名问题。<br>模块化可以解决变量重名，导入JS顺序问题以及提高复用性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">var</span> moduleA = (&#123;</span><br><span class="line">	<span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">	obj.flag = <span class="literal">true</span></span><br><span class="line">	obj.func = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(name)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> obj</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">if</span>(moduleA.flag)&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'success'</span>)</span><br><span class="line">&#125;</span><br><span class="line">moduleA.func(<span class="string">'tadm'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="commonjs"><a href="#commonjs" class="headerlink" title="commonjs"></a>commonjs</h3><p>export</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="built_in">module</span>.exports&#123;</span><br><span class="line">	variable,</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">...</span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>import</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;...&#125; = <span class="built_in">require</span>(<span class="string">'./a.js'</span>)</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">let</span> sum=<span class="built_in">require</span>(<span class="string">'./a.js'</span>)</span><br><span class="line">flag = ....flag</span><br><span class="line"><span class="keyword">if</span>(flag)&#123; <span class="keyword">do</span> more &#125;</span><br></pre></td></tr></table></figure>
<p>html设置</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span> <span class="attr">src</span>=<span class="string">"./a.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"module"</span> <span class="attr">src</span>=<span class="string">"./b.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="es6-1"><a href="#es6-1" class="headerlink" title="es6"></a>es6</h3><p>export</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="comment">// variable</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">'tadm'</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">'tadm'</span> </span><br><span class="line"><span class="keyword">export</span> &#123; name,... &#125;</span><br><span class="line"><span class="comment">// function or class</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  run() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'coding'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; mul,Person,... &#125;</span><br></pre></td></tr></table></figure>
<p>export default<br>export default在同一个模块中，不允许同时存在多个(唯一性,防止导入混乱)  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> address = <span class="string">'ss'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> address</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">argument</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(argument);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>import</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import from export</span></span><br><span class="line"><span class="keyword">import</span> &#123; name,... &#125; form <span class="string">"./a.js"</span></span><br><span class="line"><span class="keyword">import</span> &#123; mul,Person,... &#125; form <span class="string">"./a.js"</span></span><br><span class="line"><span class="comment">// import from export default</span></span><br><span class="line"><span class="keyword">import</span> addr <span class="keyword">from</span> <span class="string">"./b.js"</span></span><br><span class="line"><span class="built_in">console</span>.log(addr)</span><br><span class="line"><span class="keyword">import</span> addrfunc <span class="keyword">from</span> <span class="string">"./b.js"</span></span><br><span class="line">addrfunc(<span class="string">'tadm'</span>)</span><br><span class="line"><span class="comment">// import all</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> all <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br><span class="line"><span class="built_in">console</span>.log(all.flag)</span><br><span class="line">all.mul(<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p>从本质上来讲，webpack是一个现代的JavaScript应用的静态模块打包工具</p>
<h2 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli"></a>vue-cli</h2><p>如果你只是简单写几个 Vue 的 Demo 程序, 那么你不需要 Vue CLI<br>如果你在开发大型项目, 那么你需要, 并且必然需要使用 Vue CLI<br>使用 Vue.js 开发大型应用时，我们需要考虑代码目录结构、项目结构和部署、热加载、代码<br>单元测试等事情，如果每个项目都要手动完成这些工作，效率比较低，所以通常我们会使用<br>一些脚手架工具来帮助完成这些事情  </p>
<h3 id="runtime-only和runtime-compile"><a href="#runtime-only和runtime-compile" class="headerlink" title="runtime-only和runtime-compile"></a>runtime-only和runtime-compile</h3><ul>
<li>如果在之后的开发中，依然使用template，就需要选择Runtime-Compiler</li>
<li>如果你之后的开发中，使用的是.vue文件开发，那么可以选择Runtime-only<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 	main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="comment">// 	runtime-compiler</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 	runtime-only</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="render函数的使用"><a href="#render函数的使用" class="headerlink" title="render函数的使用"></a>render函数的使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="built_in">console</span>.log(App)	<span class="comment">//	App content(include render)</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">createElement</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 1.普通用法: createElement('标签', &#123;标签的属性&#125;(可选), ['内容数组'])</span></span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">'h2'</span>,</span><br><span class="line">      &#123;<span class="attr">class</span>: <span class="string">'box'</span>&#125;,</span><br><span class="line">      [<span class="string">'Hello World'</span>, createElement(<span class="string">'button'</span>, [<span class="string">'按钮'</span>])])</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.传入组件对象:</span></span><br><span class="line">    <span class="keyword">return</span> createElement(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//  Lastest</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p>vue create name 创建项目<br>Manually select features<br>选择babel router<br>单独选择生成配置文件<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number4.jpg" alt></p>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.1.无参</span></span><br><span class="line"><span class="keyword">const</span> demo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello Demo'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1.2.放入一个参数</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num * num</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1.3.放入两个参数或者多个</span></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">num1, num2, ...</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2 + ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2.1.函数代码块中只有一行代码</span></span><br><span class="line"><span class="keyword">const</span> mul = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 * num2</span><br><span class="line"><span class="comment">// 2.2.函数代码块中有多行代码时</span></span><br><span class="line"><span class="keyword">const</span> test = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello World'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Hello Vuejs'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> demo = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Hello Demo'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(demo());	<span class="comment">//	undefined</span></span><br></pre></td></tr></table></figure>
<p>this</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);	<span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"><span class="keyword">this</span>--&gt;<span class="built_in">window</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);	<span class="comment">// window</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  aaa() &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj对象</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.aaa()</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  aaa() &#123;</span><br><span class="line">  	<span class="comment">// setTimeout 第一个是要执行的代码或函数,第二个是延迟的时间.</span></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// window</span></span><br><span class="line">      &#125;)</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">// obj</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="vue-router"><a href="#vue-router" class="headerlink" title="vue-router"></a>vue-router</h2><p>路由就是通过互联的网络把信息从源地址传输到目的地址的活动<br>后端渲染：jsp php<br>后端路由：后端处理url和页面之间的映射关系<br>缺点：整个页面都是由后端开发，html和Java代码混杂在一起<br>随着Ajax出现，前后端分离<br>前端渲染：浏览器中显示的网页中的大部分内容都是由前端写的js代码在浏览器中<br>执行最终渲染出来的网页<br>前端路由：单页富应用，整个网页只有一个html页面，静态资源服务器中可能只有一个html文件<br>一个css文件，一个javascript文件，url和页面组件的映射关系是由前端路由管理<br>url发生改变时会抽取相应的组件，整个页面并没有刷新  </p>
<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><p>URL的hash也就是锚点(#), 本质上是改变window.location的href属<br>性.(href—hyper reference)我们可以通过直接赋值location.hash来改变<br>href, 但是页面不发生刷新<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number5.jpg" alt></p>
<h3 id="History"><a href="#History" class="headerlink" title="History"></a>History</h3><ul>
<li>history.pushState()—(一个状态对象, 一个标题 (目前被忽略), 和 (可选的) 一个URL)</li>
<li>history.replaceState({},’’,’aaa’) 不是栈结构</li>
<li>history.go()—(无参—refresh or 0 or 1 or -1)</li>
<li>history.back() 等价于 history.go(-1)</li>
<li>history.forward() 则等价于 history.go(1)</li>
</ul>
<h3 id="路由使用"><a href="#路由使用" class="headerlink" title="路由使用"></a>路由使用</h3><ul>
<li>创建路由组件 对应一个路径。组件都是.vue的形式</li>
<li>第二步: 配置路由映射: 组件和路径映射关系</li>
<li>第三步: 使用路由: 通过router-link和router-view</li>
</ul>
<p>vue-router在该路径下配置路由信息 myvueproject/src/router/index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'../components/Home.vue'</span></span><br><span class="line"><span class="keyword">import</span> About <span class="keyword">from</span> <span class="string">'../components/About.vue'</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"><span class="comment">//配置路径的组件的映射关系</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/home'</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/about'</span>,</span><br><span class="line">    component: About</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//传入到vue实例中</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>
<h3 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h3><p>Home组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">     &lt;h2&gt;我是首页&lt;&#x2F;h2&gt;</span><br><span class="line">     &lt;p&gt;我是home内容&lt;&#x2F;p&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<p>App.vue组件 myvueproject/src/App.vue 该组件挂载在main.js中的vue上<br>router-view 将挂载的组件进行渲染 router-link 会被渲染成a标签</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;home&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">&#125;</span><br><span class="line">#nav &#123;</span><br><span class="line">  padding: 30px;</span><br><span class="line">&#125;</span><br><span class="line">#nav a &#123;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">&#125;</span><br><span class="line">#nav a.router-link-exact-active &#123;</span><br><span class="line">  color: #42b983;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="路由默认值和修改为history模式"><a href="#路由默认值和修改为history模式" class="headerlink" title="路由默认值和修改为history模式"></a>路由默认值和修改为history模式</h3><p>可以配置路由默认值,在router/index.js中加入一个映射</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	path: <span class="string">''</span>, <span class="comment">//也可以加/</span></span><br><span class="line">	<span class="comment">//重定向，让地址栏也显示/home，如果使用之前的形式地址栏不会跳到指定/home</span></span><br><span class="line">	redirect: Home</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number6.jpg" alt><br>默认使用hash模式，但是上图有#号不好看，可以改为history，在router/index.js文件中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  mode: <span class="string">'history'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="router-link的其它属性"><a href="#router-link的其它属性" class="headerlink" title="router-link的其它属性"></a>router-link的其它属性</h3><p>之前只讲了一个属性to,用于指定跳转的路径。  </p>
<ol>
<li>tag 默认渲染成a标签，也可以渲染成其它标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to&#x3D;&quot;&#x2F;home&quot; tag&#x3D;&quot;button&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br></pre></td></tr></table></figure></li>
<li>replace 默认使用pushState来回跳转，可以指定为replaceState<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to&#x3D;&quot;&#x2F;about&quot; replace&gt;About&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure></li>
<li>router-link-active 被点击的组件处于活跃状态会增加一个class<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt; </span><br><span class="line"> .router-link-active&#123;</span><br><span class="line"> 	color: #ff0000;</span><br><span class="line"> &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="通过代码跳转路由"><a href="#通过代码跳转路由" class="headerlink" title="通过代码跳转路由"></a>通过代码跳转路由</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      我是App组件&lt;br&#x2F;&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;homeclick&quot;&gt;首页&lt;&#x2F;button&gt;</span><br><span class="line">      &lt;button @click&#x3D;&quot;aboutclick&quot;&gt;副页&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#39;App&#39;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">    	homeclick()&#123;</span><br><span class="line">    		this.$router.push(&#39;&#x2F;home&#39;)</span><br><span class="line">    		&#x2F;&#x2F;this.$router.replace(&#39;&#x2F;home&#39;)</span><br><span class="line">    		&#125;，</span><br><span class="line">    	aboutclick()&#123;</span><br><span class="line">    		this.$router.push(&#39;&#x2F;about&#39;)</span><br><span class="line">    	&#125;	</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>封装后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      我是App组件&lt;br&#x2F;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;home&quot; tag&#x3D;&quot;button&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<h3 id="vue-router动态路由的使用"><a href="#vue-router动态路由的使用" class="headerlink" title="vue-router动态路由的使用"></a>vue-router动态路由的使用</h3><p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number7.jpg" alt></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="comment">//router/index.js中添加</span></span><br><span class="line">	path； <span class="string">'/user/:userid'</span>,</span><br><span class="line">	component: User</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;App.vue中添加</span><br><span class="line">&lt;router-link v-bind:to&#x3D;&quot;&#39;&#x2F;user&#x2F;&#39;+userid&quot;&gt;用户&lt;&#x2F;router-link&gt;</span><br><span class="line">...</span><br><span class="line">data()&#123;</span><br><span class="line">	return &#123;</span><br><span class="line">		userid: &#39;lisi&#39;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>创建User组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; </span><br><span class="line">	&lt;div&gt; </span><br><span class="line">	&#123;&#123;userId&#125;&#125;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">...</span><br><span class="line">computed: &#123;</span><br><span class="line">	userId()&#123;</span><br><span class="line">		&#x2F;&#x2F;获取处于活跃的路由也就是当前路由</span><br><span class="line">		return this.$route.params.userid;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h3><p>当打包构建应用时，Javascript 包会变得非常大，影响页面加载，如果我们能把不同路由对<br>应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了<br>为了实现这种效果，我们可以使用路由的懒加载<br>路由懒加载的主要作用就是将路由对应的组件打包成一个个的 js 代码块，只有在这个路由<br>被访问到的时候，才加载对应的组件<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number8.jpg" alt></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home=<span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">import</span>(<span class="string">'../components/Home.vue'</span>)</span><br><span class="line"><span class="keyword">const</span> About=<span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">import</span>(<span class="string">'../components/About.vue'</span>)</span><br><span class="line">&#123;</span><br><span class="line">   path: <span class="string">''</span>,</span><br><span class="line">   redirect: <span class="string">'/home'</span></span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">   path: <span class="string">'/home'</span>,</span><br><span class="line">   component: Home</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">   path: <span class="string">'/about'</span>,</span><br><span class="line">   component: About</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h2><p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number9.jpg" alt></p>
<ul>
<li>创建对应的子组件, 并且在路由映射中配置对应的子路由</li>
<li>在组件内部使用&lt; router-view&gt;标签</li>
</ul>
<p>在router/index.js文件中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: <span class="string">'/home'</span>,</span><br><span class="line">    name: <span class="string">'Home'</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    children: [</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">''</span>,</span><br><span class="line">        redirect: <span class="string">'news'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'news'</span>, <span class="comment">//子路由不需要加/</span></span><br><span class="line">        component: News</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">'message'</span>,</span><br><span class="line">        component: Message</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>在Home.vue中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">     &lt;h2&gt;我是首页&lt;&#x2F;h2&gt;</span><br><span class="line">     &lt;p&gt;我是home内容&lt;&#x2F;p&gt;</span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;news&quot; tag&#x3D;&quot;button&quot;&gt;News&lt;&#x2F;router-link&gt; |</span><br><span class="line">     &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;message&quot;&gt;message&lt;&#x2F;router-link&gt;</span><br><span class="line">     &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number10.jpg" alt></p>
<h3 id="vue-router-参数传递"><a href="#vue-router-参数传递" class="headerlink" title="vue-router 参数传递"></a>vue-router 参数传递</h3><p>创建一个Profile.vue，并且按照之前方式跟Home和About一样配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        我是profile</span><br><span class="line">        &#123;&#123;$route.query&#125;&#125;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>params<br>配置路由格式：/router/:id<br>传递的方式：在 path 后面跟上对应的值<br>传递后形成的路径：/router/123，/router/abc  </li>
<li>query<br>配置路由格式：/router<br>传递的方式：对象中使用 query 的 key 作为传递方式<br>传递后形成的路径：/router?id=123，/router?id=abc  </li>
</ol>
<h3 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      我是App组件&lt;br&#x2F;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;home&quot; tag&#x3D;&quot;button&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;br&#x2F;&gt;</span><br><span class="line">      &lt;router-link v-bind:to&#x3D;&quot;&#123;</span><br><span class="line">      	path: &#39;&#x2F;profile&#39;,</span><br><span class="line">      	query: &#123;name: &#39;why&#39;,age: 18&#125;</span><br><span class="line">      	&#125;&quot;&gt;profile&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number11.jpg" alt></p>
<h3 id="不使用router-link"><a href="#不使用router-link" class="headerlink" title="不使用router-link"></a>不使用router-link</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;toProfile&gt;profile&lt;&#x2F;button&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	name: &#39;App&#39;,</span><br><span class="line">	methods: &#123;</span><br><span class="line">		toProfile() &#123;</span><br><span class="line">			this.$router.push(&#123;</span><br><span class="line">				path: &#39;&#x2F;profile&#x2F;&#39;,</span><br><span class="line">				query: &#123; name:&#39;tadm&#39;,... &#125;</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="router和-route"><a href="#router和-route" class="headerlink" title="$router和$route"></a>$router和$route</h3><ul>
<li>$router为VueRouter实例，想要导航到不同URL，则使用$router.push方法</li>
<li>$route为当前router跳转对象里面可以获取name、path、query、params等</li>
</ul>
<h3 id="vue-router-全局导航守卫"><a href="#vue-router-全局导航守卫" class="headerlink" title="vue-router 全局导航守卫"></a>vue-router 全局导航守卫</h3><p>对来回跳转的过程进行监听，可以在监听函数中进行相应操作<br>我们来考虑一个需求: 在一个SPA应用中, 如何改变网页的标题呢?<br>网页标题是通过普通的修改方式:<br>我们比较容易想到的修改标题的位置是每一个路由对应的组件.vue文件中.<br>通过mounted声明周期函数, 执行对应的代码进行修改即可.<br>但是当页面比较多时, 这种方式不容易维护(因为需要在多个页面执行类似的代码).<br>有没有更好的办法呢? 使用导航守卫即可.<br>什么是导航守卫?<br>vue-router提供的导航守卫主要用来监听监听路由的进入和离开的.<br>vue-router提供了beforeEach和afterEach的钩子函数, 它们会在路由即将改变前和改变后触发.</p>
<h3 id="生命周期函数"><a href="#生命周期函数" class="headerlink" title="生命周期函数"></a>生命周期函数</h3><ul>
<li>create vue创建时调用该函数</li>
<li>mouted template被挂载到DOM时</li>
<li>update 界面发生更新时</li>
</ul>
<h3 id="使用导航守卫"><a href="#使用导航守卫" class="headerlink" title="使用导航守卫"></a>使用导航守卫</h3><p>在router/index.js文件中</p>
<ul>
<li>to: 即将要进入的目标的路由对象</li>
<li>from: 当前导航即将要离开的路由对象</li>
<li>next: 调用该方法后, 才能进入下一个钩子</li>
<li>如果是后置钩子，也就是afterEach，不需要主动调用 next() 函数</li>
<li>上面使用的导航守卫，被称之为全局守卫，除此之外，还有路由独享的守卫、组件内的守卫<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path: <span class="string">'/home'</span>,</span><br><span class="line">    ..</span><br><span class="line">    meta: &#123;</span><br><span class="line">      title: <span class="string">'home'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"> ..</span><br><span class="line"><span class="comment">// 前置守卫(guard)</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 从from跳转到to</span></span><br><span class="line">  <span class="built_in">document</span>.title = to.matched[<span class="number">0</span>].meta.title</span><br><span class="line">  <span class="comment">// console.log(to);</span></span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 后置钩子(hook)</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log('----');</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h3><p>keep-alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，<br>或避免重新渲染。它们有两个非常重要的属性:<br>include - 字符串或正则表达，只有匹配的组件会被缓存<br>exclude - 字符串或正则表达式，任何匹配的组件都不会被缓存<br>router-view 也是一个组件，如果直接被包在<br>keep-alive 里面，所有路径匹配到的视图组件都会被缓存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">   &lt;router-view&#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>
<p>在Home.vue中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;下面两个函数(activated&#x2F;deactivated), 只有该组件被保持了状态使用了</span><br><span class="line">&#x2F;&#x2F;keep-alive时, 才是有效的</span><br><span class="line">activated() &#123;	&#x2F;&#x2F;	活跃</span><br><span class="line">  this.$router.push(this.path);&#x2F;&#x2F;path :&#39;&#x2F;home&#x2F;news&#39;</span><br><span class="line">  console.log(&#39;activated&#39;);</span><br><span class="line">&#125;,</span><br><span class="line">deactivated() &#123;	&#x2F;&#x2F;	离开</span><br><span class="line">  console.log(&#39;deactivated&#39;);</span><br><span class="line">&#125;,	&#x2F;&#x2F;	记录离开前路由</span><br><span class="line">beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">  console.log(this.$route.path);</span><br><span class="line">  this.path &#x3D; this.$route.path;</span><br><span class="line">  next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不被缓存,这个时候就需要用到vue文件中的name，exclude中的就是组件的name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive exclude&#x3D;&quot;Profile,User&quot;&gt;</span><br><span class="line">&lt;router-view&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>
<h2 id="TabBar"><a href="#TabBar" class="headerlink" title="TabBar"></a>TabBar</h2><ul>
<li>在asserts文件夹中可以创建img和css两个子文件夹,img中又可以有多个文件夹更加清晰<br>在css文件夹中创建base.css文件,然后再APP.vue中动态引用css文件，这样代码更加清晰明了<br>以后不需要在vue中写css代码只需要动态引用即可<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  @import &quot;.&#x2F;assets&#x2F;css&#x2F;base.css&quot;;</span><br><span class="line">  .router-link-active&#123;</span><br><span class="line">    color: #ff0000;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li>在components中创建tabbar文件夹，创建tabbar组件，可以实现复用<br>在APP.vue中引用tabbar<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  import Tabbar from &#39;.&#x2F;components&#x2F;tabber&#x2F;Tabbar.vue&#39;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#39;App&#39;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Tabbar</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&lt;slot&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;guimie&quot;&gt;</span><br><span class="line">        &lt;img src&#x3D;&quot;..&#x2F;..&#x2F;assets&#x2F;img&#x2F;tabber&#x2F;guimie.jpg&quot;&gt;</span><br><span class="line">        首页</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div&gt;分类&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;slot&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
再创建一个Tabb组件，放插槽中的内容，在APP.vue中引用这个组件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt; </span><br><span class="line">	&lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">	 &lt;Tabbar&gt;</span><br><span class="line">	  &lt;Tabb&gt;&lt;&#x2F;Tabb&gt;</span><br><span class="line">	 &lt;&#x2F;Tabbar&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Tabbar from &#39;.&#x2F;components&#x2F;tabber&#x2F;Tabbar.vue&#39;</span><br><span class="line">  import Tabb from &#39;.&#x2F;components&#x2F;tabber&#x2F;Tabb.vue&#39;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#39;App&#39;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Tabbar,</span><br><span class="line">      Tabb</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>Promise是异步编程的一种解决方案<br>一种很常见的场景应该就是网络请求了。<br>我们封装一个网络请求的函数，因为不能立即拿到结果，所以不能像简单的3+4=7一样将<br>结果返回，同步一旦发生阻塞需要等待，异步操作不需要等待返回继续与用户进行交互，当<br>网络请求的数据回来的时候定义一个回调的函数拿到请求数据<br>所以往往我们会传入另外一个函数，在数据请求成功时，将数据通过传入的函数回调出去。<br>如果只是一个简单的网络请求，那么这种方案不会给我们带来很大的麻烦。<br>但是，当网络请求非常复杂时，就会出现回调地狱。</p>
<ul>
<li>Promise 是一个构造函数，既然是构造函数，那么，我们就可以 new  Promise()<br>得到一个Promise 的实例；</li>
<li>在 Promise 上，有两个函数，分别叫做 resolve（成功之后的回调函数）和   reject<br>（失败之后的回调函数）</li>
<li>在 Promise 构造函数的 Prototype 属性上，有一个 .then()   方法，<br>也就说，只要是Promise 构造函数创建的实例，都可以访问到 .then() 方法</li>
<li>Promise 表示一个 异步操作；每当我们 new 一个 Promise  的实例，<br>这个实例，就表示一个具体的异步操作；</li>
<li>既然 Promise 创建的实例，是一个异步操作，那么，这个 异步操作的结果<br>只能有两种状态： 5.1 状态1： 异步执行成功了，需要在内部调用 成功的回调函数<br>resolve 把结果返回给调用者  状态2： 异步执行失败了，需要在内部调用 失败的回<br>调函数reject把结果返回给调用者<br>由于 Promise 的实例，是一个异步操作，所以，内部拿到 操作的结果后，无法使用<br>return 把操作的结果返回给调用者； 这时候，只能使用回调函数的形式，来把<br>成功 或 失败的结果，返回给调用者</li>
<li>我们可以在 new 出来的 Promise 实例上，调用 .then() 方法，【预先】 为<br>这个 Promise  异步操作，指定 成功（resolve） 和 失败（reject） 回调函数；<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123; <span class="comment">//传入一个函数作为参数</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">//等待指定时间后执行代码</span></span><br><span class="line">    <span class="comment">// 成功的时候调用resolve，resolve本身也是函数，跳转到then中</span></span><br><span class="line">    resolve(<span class="string">'Hello World'</span>)</span><br><span class="line">    <span class="comment">// 失败的时候调用reject，也是函数</span></span><br><span class="line">    <span class="comment">// reject('error message')</span></span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.100行的处理代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(data);	<span class="comment">//	Hello World</span></span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);	<span class="comment">//	error message</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'Hello Vuejs'</span>)</span><br><span class="line">    <span class="comment">// reject('error message')</span></span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;, err =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="链式处理"><a href="#链式处理" class="headerlink" title="链式处理"></a>链式处理</h3><ul>
<li>sync 同步</li>
<li>async 异步</li>
<li>pending 等待状态，比如正在进行网络请求或者定时器没有到时间</li>
<li>fulfill 满足状态，主动回调resolve是就处于该状态会回调then</li>
<li>reject 拒绝状态，主动回调reject是就处于该状态会回调catch<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 参数 -&gt; 函数(resolve, reject)</span></span><br><span class="line"><span class="comment">// resolve, reject本身它们又是函数</span></span><br><span class="line"><span class="comment">// 链式编程</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve(res + <span class="string">'111'</span>)</span><br><span class="line">    <span class="comment">// reject('err')</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(res + <span class="string">'222'</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;   <span class="comment">// 捕获某一层抛出/发生的异常</span></span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// new Promise(resolve =&gt; resolve(结果))简写</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'111'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'222'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 省略掉Promise.resolve</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="keyword">return</span> res + <span class="string">'111'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line">  <span class="keyword">return</span> res + <span class="string">'222'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="string">'aaa'</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line">  <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">  <span class="comment">// return Promise.reject('error message')</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="string">'error message'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第二层的10行处理代码'</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">'222'</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res, <span class="string">'第三层的10行处理代码'</span>);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Promise的all方法"><a href="#Promise的all方法" class="headerlink" title="Promise的all方法"></a>Promise的all方法</h3><p>可以同时发送多个异步请求，有些需求需要所有请求都成功才可以进行,all可以判断请求是否都<br>成功</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">	<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123;<span class="attr">name</span>: <span class="string">'why'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(&#123;<span class="attr">name</span>: <span class="string">'kobe'</span>, <span class="attr">age</span>: <span class="number">19</span>&#125;)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">]).then(<span class="function"><span class="params">results</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results); <span class="comment">//  Array</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式</p>
<ul>
<li>Vuex 采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种<br>可预测的方式发生变化</li>
<li>Vuex 也集成到 Vue 的官方调试工具 devtools extension，提供了诸如零配<br>置的time-travel 调试、状态快照导入导出等高级调试功能  </li>
</ul>
<h3 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h3><p>简单理解：把需要多个组件共享的变量全部存储在一个对象里面，然后将这个对象放在<br>顶层的 Vue 实例中，让其他组件可以使用，共享这个对象中的所有变量属性，并且是响应式的</p>
<h3 id="管理的内容"><a href="#管理的内容" class="headerlink" title="管理的内容"></a>管理的内容</h3><ul>
<li>比如用户的登录状态、用户名称、头像、地理位置信息等等。</li>
<li>比如商品的收藏、购物车中的物品等等。</li>
<li>这些状态信息，我们都可以放在统一的地方，对它进行保存和管理，而且它们还是响应式的</li>
</ul>
<h3 id="单界面的管理"><a href="#单界面的管理" class="headerlink" title="单界面的管理"></a>单界面的管理</h3><ul>
<li>state，驱动应用的数据源；</li>
<li>view，以声明方式将 state 映射到视图；</li>
<li>actions，响应在 view 上的用户输入导致的状态变化<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number12.jpg" alt></li>
</ul>
<h3 id="多页面状态管理"><a href="#多页面状态管理" class="headerlink" title="多页面状态管理"></a>多页面状态管理</h3><p>npm install vuex –save<br>创建src/store文件夹，创建index.js文件<br><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number13.jpg" alt></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"><span class="keyword">const</span> store=<span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    state: &#123;</span><br><span class="line">        counter: <span class="number">1000</span></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">    	increment(state) &#123;</span><br><span class="line">    		state.counter++</span><br><span class="line">    	&#125;</span><br><span class="line">    	decrement(state) &#123;</span><br><span class="line">    		state.counter--</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">    	powercounter(state)&#123;</span><br><span class="line">    		<span class="keyword">return</span> state.counter*state.counter</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    modules: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>
<p>在main.js中引用该文件,所有组件都可以使用store，方式为$store.state.counter<br>$store.commit(‘increment’)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index.js'</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">  store</span><br><span class="line">  <span class="comment">// Vue.prototype.$store=store</span></span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="state单一状态树"><a href="#state单一状态树" class="headerlink" title="state单一状态树"></a>state单一状态树</h3><p>如果状态信息是保存到多个 Store 对象中的，那么之后的管理和维护等等<br>都会变得特别困难，所以 Vuex 使用了单一状态树来管理应用层级的全部状态<br>单一状态树能够让我们以最直接的方式找到某个状态的片段，而且在之后的维护和调试<br>过程中，也可以非常方便的管理和维护</p>
<h3 id="getters"><a href="#getters" class="headerlink" title="getters"></a>getters</h3><p>有时候，我们需要从store中获取一些state变异后的状态，比如下面的Store<br>$store.getters.powercounter</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">	more20stu(state) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; <span class="number">20</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//  利用 getters 中已处理的数据进行再加工</span></span><br><span class="line">  more20stuLength(state, getters) &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.more20stu.length</span><br><span class="line">    <span class="comment">//  Of course but not recommand</span></span><br><span class="line">    <span class="comment">//  return state.students.filter(s =&gt; s.age &gt; 20).length</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 	传参(需要返回一个函数进行处理)</span></span><br><span class="line">  moreAgeStu(state) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">age</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; age)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// return age =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   return state.students.filter(s =&gt; s.age &gt; age)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.$store.getters.more20stu</span><br><span class="line"><span class="keyword">this</span>.$store.getters.more20stuLength</span><br><span class="line"><span class="keyword">this</span>.$store.getters.moreAgeStu(<span class="number">12</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Mutation状态更新"><a href="#Mutation状态更新" class="headerlink" title="Mutation状态更新"></a>Mutation状态更新</h3><p>更改 Vuex 的 store 中的状态的唯一方法是提交 mutation<br>Vuex 中的 mutation 非常类似于事件：每个 mutation 都有一个字符串的<br>事件类型 (type) 和 一个 回调函数 (handler);这个回调函数就是<br>我们实际进行状态更改的地方，并且它会接受 state 作为第一个参数  </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state) &#123;</span><br><span class="line">    <span class="comment">// 变更状态</span></span><br><span class="line">    state.count++</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementCount(state, count) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(count);</span><br><span class="line">    state.count += count</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementCount(state, payload) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(payload);  <span class="comment">//		Object</span></span><br><span class="line">    state.count += payload.count</span><br><span class="line">  &#125;,</span><br><span class="line">  addStudent(state, stu) &#123;</span><br><span class="line">    state.students.push(stu)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  addition() &#123;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(increment)</span><br><span class="line">  &#125;,</span><br><span class="line">  addCount(count) &#123;</span><br><span class="line">    <span class="comment">// payload: 负载</span></span><br><span class="line">    <span class="comment">// 1.普通的提交封装</span></span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'incrementCount'</span>, count)</span><br><span class="line">    <span class="comment">// 2.特殊的提交封装</span></span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'incrementCount'</span>, &#123;</span><br><span class="line">		  count: <span class="number">10</span></span><br><span class="line">		&#125;)</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(&#123;</span><br><span class="line">      type: <span class="string">'incrementCount'</span>,</span><br><span class="line">      count  <span class="comment">//对象</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  addStudent() &#123;</span><br><span class="line">    <span class="keyword">const</span> stu = &#123; <span class="attr">id</span>: <span class="number">114</span>, <span class="attr">name</span>: <span class="string">'alan'</span>, <span class="attr">age</span>: <span class="number">28</span> &#125;</span><br><span class="line">    <span class="keyword">this</span>.$store.commit(<span class="string">'addStudent'</span>, stu)</span><br><span class="line">  &#125;,</span><br><span class="line">  updateInfo(state) &#123;</span><br><span class="line">    state.info.name = <span class="string">'tadm'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;&#123;&#123; $store.state.count &#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">&lt;button @click="addition"&gt;+&lt;/</span>button&gt;</span><br><span class="line">&lt;button @click=<span class="string">"addCount(5)"</span>&gt;+<span class="number">5</span>&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;button @click="addStudent"&gt;Add Student&lt;/</span>button&gt;</span><br></pre></td></tr></table></figure>
<h3 id="vuex数据的响应原理"><a href="#vuex数据的响应原理" class="headerlink" title="vuex数据的响应原理"></a>vuex数据的响应原理</h3><ul>
<li>Vuex的 store中的state是响应式的，当 state 中的数据发生改变时，Vue组件会自动更新</li>
<li>最好提前在你的 store 中初始化好所有所需属性。</li>
<li>当需要在对象上添加新属性时，你应该使用 Vue.set(obj, ‘newProp’, 123), 或者以新<br>对象替换老对象。例如，利用对象展开运算符我们可以这样写：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">updateInfo(state, payload) &#123;</span><br><span class="line">  <span class="comment">// state.info['height'] = payload.height</span></span><br><span class="line">  <span class="comment">// 方式一：Vue.set()</span></span><br><span class="line">  <span class="comment">// Vue.set(state.info, 'height', payload.height)</span></span><br><span class="line">  <span class="comment">// 方式二：给 info 赋值一个新的对象</span></span><br><span class="line">  state.info = &#123;...state.info, <span class="string">'height'</span>: payload.height &#125;</span><br><span class="line">  Vue.delete(state.info,<span class="string">'age'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Mutation常量类型"><a href="#Mutation常量类型" class="headerlink" title="Mutation常量类型"></a>Mutation常量类型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> INCREMENT = <span class="string">'increment'</span></span><br><span class="line"><span class="keyword">import</span> &#123; INCREMENT &#125; <span class="keyword">from</span> <span class="string">"./mutations-types"</span>;</span><br><span class="line">mutations: &#123;</span><br><span class="line">	[INCREMENT](state) &#123;</span><br><span class="line">    state.counter++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">addition() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$store.commit(INCREMENT)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="vuex-actions"><a href="#vuex-actions" class="headerlink" title="vuex-actions"></a>vuex-actions</h3><ul>
<li>Action 类似于Mutation, 但是是用来代替Mutation进行异步操作</li>
<li>Action 提交的是 mutation，而不是直接变更状态。</li>
<li>Action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，因此你<br>可以调用 context.commit 提交一个 mutation，或者通过 context.state<br>和 context.getters 来获取 state 和 getters<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">	increment (context) &#123;</span><br><span class="line">    context.commit(<span class="string">'increment'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.$store.dispatch(<span class="string">'increment'</span>)</span><br><span class="line"><span class="comment">// Actions.js</span></span><br><span class="line">aUpdateInfo(context, payload) &#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    context.commit(<span class="string">'updateInfo'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(payload.message);</span><br><span class="line">    payload.success()</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;,</span><br><span class="line">aUpdateInfo(context, payload) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      context.commit(<span class="string">'updateInfo'</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(payload);</span><br><span class="line"></span><br><span class="line">      resolve(<span class="string">'1111111'</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">methods:&#123;</span><br><span class="line">	updateInfo() &#123;</span><br><span class="line">	  <span class="keyword">this</span>.$store.dispatch(<span class="string">'aUpdateInfo'</span>, &#123;</span><br><span class="line">	    message: <span class="string">'我是携带的信息'</span>,</span><br><span class="line">	    success: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">	      <span class="built_in">console</span>.log(<span class="string">'里面已经完成了'</span>);</span><br><span class="line">	    &#125;</span><br><span class="line">	  &#125;)</span><br><span class="line">	  <span class="keyword">this</span>.$store</span><br><span class="line">	    .dispatch(<span class="string">'aUpdateInfo'</span>, <span class="string">'我是携带的信息'</span>)</span><br><span class="line">	    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">	      <span class="built_in">console</span>.log(<span class="string">'里面完成了提交'</span>);</span><br><span class="line">	      <span class="built_in">console</span>.log(res);</span><br><span class="line">	    &#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>异步js和xml的组装。</p>
<ul>
<li>异步刷新 网页局部内容进行刷新，例如搜索框，视频点赞</li>
</ul>
<h3 id="js实现"><a href="#js实现" class="headerlink" title="js实现"></a>js实现</h3><p>XMLHttpRequest常见方法</p>
<ul>
<li>opern(方法名(提交方式),服务器地址,true)与服务器建立连接</li>
<li>get:send(null) post(key=value)</li>
<li>setRequestHeader(header,value) 只有post使用</li>
<li>如果请求包含文件上传 setRequestHeader(“Content-Type”,”multipart/form-data”)</li>
<li>如果请求不包含文件上传 setRequestHeader(“Content-Type”,<br>“application/x-www-form-urlencoded”)</li>
</ul>
<p>XMLHttpRequest常见属性</p>
<ul>
<li>readystate:请求状态</li>
</ul>
<ol>
<li>0 对象没有初始化</li>
<li>1 开始发送请求，已经执行了open方法并完成相关资源的准备</li>
<li>2 已经发送请求执行了send方法但是没有收到相应</li>
<li>3 开始读取响应信息，收到Http请求响应的头部信息，还没接受完毕</li>
<li>4 读取完毕</li>
</ol>
<ul>
<li>status</li>
</ul>
<ol>
<li>200 服务器正常响应</li>
<li>400 无法找到请求资源</li>
<li>403 没有访问权限</li>
<li>404 资源不存在</li>
<li>500 服务器内部错误</li>
</ol>
<ul>
<li>onreadystatechange 回调函数,就是执行完请求后接收响应的返回值</li>
<li>responseText 响应格式为string</li>
<li>responseXML 响应格式为XML</li>
</ul>
<h2 id="JQery"><a href="#JQery" class="headerlink" title="JQery"></a>JQery</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $value=$(key).val(); <span class="comment">//适用于get和post</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">	url:服务器地址,</span><br><span class="line">	请求方式 <span class="keyword">get</span>/post,</span><br><span class="line">	data: key=$value,</span><br><span class="line">	success:function(result,testStatus)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;,</span><br><span class="line">	error:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">$.<span class="keyword">get</span>(</span><br><span class="line">	url,</span><br><span class="line">	data,</span><br><span class="line">	success:function(result)</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">	&#125;,</span><br><span class="line">	预期返回值类型</span><br><span class="line">	);</span><br><span class="line">$.post(</span><br><span class="line">	url,</span><br><span class="line">	data,</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;,</span><br><span class="line">	预期返回值类型</span><br><span class="line">	);</span><br><span class="line">$(#id).load( //将服务端返回值直接加载到指定元素中</span><br><span class="line">	url,</span><br><span class="line">	data);</span><br><span class="line">$.getJSON(</span><br><span class="line">	url,</span><br><span class="line">	&#123;<span class="attr">key</span>:$value,...&#125;,</span><br><span class="line">	<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) //<span class="title">result</span>是<span class="title">json</span>格式，服务端要以<span class="title">json</span>格式返回数据</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		result.name 拿到数据</span><br><span class="line">	&#125;</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>
<h3 id="Ajax处理json对象"><a href="#Ajax处理json对象" class="headerlink" title="Ajax处理json对象"></a>Ajax处理json对象</h3><p>通过eval函数将result转变为js可以识别的json对象</p>
<h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><p>Vue中发送网络请求有非常多的方式</p>
<ol>
<li>传统的Ajax是基于XMLHttpRequest，配置和调用混乱很少使用</li>
<li>JQuery-Ajax，vue开发不需要使用jQuery</li>
<li>Vue-resource不再使用</li>
<li>axios </li>
</ol>
<h3 id="axios请求方式"><a href="#axios请求方式" class="headerlink" title="axios请求方式"></a>axios请求方式</h3><ul>
<li>axios(config) 默认是get</li>
<li>axios.request(config)</li>
<li>axios.get(url[,config])</li>
<li>axios.delete(url[,config])</li>
<li>axios.head(url[,config])</li>
<li>axios.post(url,[,data[,config]])</li>
<li>axios.put(url[,data[,config]])</li>
<li>axios.patch(url[,data[,config]])</li>
</ul>
<p>npm install axios –save 安装axios框架<br>在main.js中使用axios</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'./store/index.js'</span></span><br><span class="line"><span class="keyword">import</span> axios form <span class="string">'axios'</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">  store</span><br><span class="line">  <span class="comment">// Vue.prototype.$store=store</span></span><br><span class="line">&#125;).$mount(<span class="string">'#app'</span>)</span><br><span class="line">axios(&#123;</span><br><span class="line">	url: <span class="string">'http://123.207.32.32:8000/home/multidata'</span>,</span><br><span class="line">	methods: <span class="string">'get/post'</span>, <span class="comment">//可以指定请求方式</span></span><br><span class="line">	<span class="comment">//专门针对get请求的参数拼接</span></span><br><span class="line">	params: &#123;</span><br><span class="line">		type: <span class="string">'pop'</span>,</span><br><span class="line">		page: <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123; <span class="comment">//拿到数据不需要返回函数</span></span><br><span class="line">	<span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/2020/03/12/vue%E6%80%BB%E7%BB%93/number14.jpg" alt></p>
<h3 id="axios处理并发请求"><a href="#axios处理并发请求" class="headerlink" title="axios处理并发请求"></a>axios处理并发请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">axios.all([axios(&#123;</span><br><span class="line"> url..</span><br><span class="line">&#125;),axios(&#123;</span><br><span class="line"> url..</span><br><span class="line">&#125;)]).then(<span class="function"><span class="params">results</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//也可以写为</span></span><br><span class="line">.then(axios.spread(<span class="function">(<span class="params">res1,res2</span>)=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>
<h3 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h3><p>开发过程中很多参数都是固定的，可以抽取一些进行全局配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL=..</span><br><span class="line">axios.defaults.timeout=..<span class="comment">//单位是ms</span></span><br></pre></td></tr></table></figure>
<h3 id="axios的实例和模块封装"><a href="#axios的实例和模块封装" class="headerlink" title="axios的实例和模块封装"></a>axios的实例和模块封装</h3><p>有多个请求接口时不能使用全局，创建对应的实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">	baseURL=..,</span><br><span class="line">	timeout=..,</span><br><span class="line">	headers: &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line">instance(&#123;</span><br><span class="line">	url: ..</span><br><span class="line">&#125;).then()</span><br></pre></td></tr></table></figure>
<p>将axios相关的代码放在一个文件中，不要要组件中直接使用第三方框架，在src中新建一个文件<br>夹network创建request.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config,success,failure</span>)</span>&#123;</span><br><span class="line">	<span class="comment">//创建axios实例</span></span><br><span class="line">	<span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">		baseURL..</span><br><span class="line">	&#125;)</span><br><span class="line">	instance(config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">		success(res)</span><br><span class="line">	&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">		failure(err)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在需要使用的地方</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">"./network/request"</span></span><br><span class="line">request(&#123;</span><br><span class="line">	url..</span><br><span class="line">&#125;,res=&gt;&#123;</span><br><span class="line">	<span class="comment">//拿到res</span></span><br><span class="line">&#125;,</span><br><span class="line">err=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>还有一种更好的写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">request(&#123;</span><br><span class="line">	url..</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">	..</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">	..</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">		<span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line"></span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	instance(config).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">		resolve(res)</span><br><span class="line">	&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">		reject(err)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最好的写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">		<span class="keyword">const</span> instance=axios.create(&#123;</span><br><span class="line">			..</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">	<span class="comment">//发送真正的网络请求，实际是一个promise</span></span><br><span class="line">	<span class="keyword">return</span> instance(config)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="axios的拦截器的使用"><a href="#axios的拦截器的使用" class="headerlink" title="axios的拦截器的使用"></a>axios的拦截器的使用</h3><p>发送网络请求之前可能对某些请求进行拦截，对请求进行相应的处理</p>
<ul>
<li>请求发送成功</li>
<li>请求发送失败</li>
<li>响应成功</li>
<li>响应失败<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors <span class="comment">//全局拦截</span></span><br><span class="line">instance.interceptors.request.use(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line"> <span class="comment">//拦截成功</span></span><br><span class="line"> <span class="comment">//修改config中的一些信息</span></span><br><span class="line"> <span class="keyword">return</span> config</span><br><span class="line">&#125;,err=&gt;&#123;</span><br><span class="line"> <span class="comment">//请求发送失败，一般不会出现这种情况</span></span><br><span class="line">&#125;)</span><br><span class="line">instance.interceptors.response.use(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">	..</span><br><span class="line"> <span class="keyword">return</span> res.data <span class="comment">//必须返回否则erquest接收不到响应数据</span></span><br><span class="line">&#125;,err=&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"> <span class="keyword">return</span> instance(config)</span><br></pre></td></tr></table></figure>








</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">高明</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://skysea-gaoming.github.io/2020/03/12/vue%E6%80%BB%E7%BB%93/">https://skysea-gaoming.github.io/2020/03/12/vue%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/03/21/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%80%9D%E6%83%B3/"><i class="fa fa-chevron-left">  </i><span>前后端分离思想</span></a></div><div class="next-post pull-right"><a href="/2020/02/29/JavaWeb/"><span>JavaWeb</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://skysea-gaoming.github.io/2020/03/12/vue%E6%80%BB%E7%BB%93/';
  this.page.identifier = '2020/03/12/vue总结/';
  this.page.title = 'vue总结';
}
var d = document, s = d.createElement('script');
s.src = "https://" + '你的disqus的 short-name' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://你的disqus的 short-name.disqus.com/count.js" async></script></div></div><footer class="footer-bg" style="background-image: url(https://i0.hdslb.com/bfs/album/42972e57ef591d0a058fd730a47915bd984e100d.jpg@518w_1e_1c.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By 高明</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" data-click="false"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>